(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{208:function(e,t,s){"use strict";s.r(t);var a=s(0),n=Object(a.a)({},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),s("p",[e._v("To integrate CloudLinux into a control panel, you should implement the following interfaces required by the CloudLinux OS utilities:")]),e._v(" "),s("ul",[s("li",[s("router-link",{attrs:{to:"/control_panel_integration/#control-panel-api-integration"}},[e._v("CPAPI")]),e._v(" — a small scripts/files-type interface to get the required information from the control panel")],1),e._v(" "),s("li",[s("router-link",{attrs:{to:"/control_panel_integration/#control-panel-hooks-integration"}},[e._v("CP Hooks Integration")]),e._v(" — a set of the CloudLinux OS scripts/commands. Control panel calls this set in response to its internal events")],1),e._v(" "),s("li",[s("router-link",{attrs:{to:"/control_panel_integration/#web-ui-integration"}},[e._v("Web UI Integration(optional)")]),e._v(" — various configuration parameters and scripts to embed interface SPA application into the control panel native interface. Optional, if CLI is enough")],1),e._v(" "),s("li",[s("router-link",{attrs:{to:"/control_panel_integration/#how-to-integrate-cagefs-with-a-control-panel"}},[e._v("CageFS Integration")]),e._v(" — some changes may be required in the config files to work and integrate with CageFS as well as additional support from a control panel")],1)]),e._v(" "),s("p",[e._v("Configuration related to integration should be placed in a valid INI file (further “integration config file”):")]),e._v(" "),e._m(3),s("p",[e._v("The panel vendor should deliver/update this file. All users (and in the CageFS too) should have read access to this file as some CPAPI methods have to work from end-users too.")]),e._v(" "),s("p",[e._v("We recommend to deliver a set of scripts for CPAPI and integration file in a separate RPM package. This can greatly simplify support for vendors as they will be able to release any updates and compatibility fixes separately from panel updates and use dependencies/conflicts management provided by a package manager.")]),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),e._m(6),e._m(7),e._v(" "),e._m(8),e._v(" "),s("p",[e._v("You can use different scripts for different CPAPI methods or only one script and call it with different arguments. The script is any executable file written in any programming language, that returns a valid JSON file of the specified format in response to arguments it is expected to be called.")]),e._v(" "),e._m(9),e._v(" "),s("ul",[s("li",[e._v("By default, integration scripts should run only from UNIX user with the same credentials as LVE Manager is run, unless otherwise stated in the script description.")]),e._v(" "),e._m(10),e._v(" "),s("li",[e._v("Scripts run from the end-user should also work from inside CageFS. You can find details on how to implement this "),s("router-link",{attrs:{to:"/control_panel_integration/#working-with-cpapi-cagefs"}},[e._v("here")])],1)]),e._v(" "),e._m(11),e._v(" "),e._m(12),e._v(" "),e._m(13),e._v(" "),e._m(14),e._v(" "),s("p",[e._v("Some integration scripts required to be called not only from root but from end-user too, so they should be able to work inside "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#cagefs"}},[e._v("CageFS")]),e._v(" too. This means that all required information (a code, all its dependencies, all called binaries, all configs/files/caches it reads) should either:")],1),e._v(" "),s("ul",[s("li",[e._v("be available in CageFS")]),e._v(" "),s("li",[e._v("the script itself should be run in the real system via "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#executing-by-proxy"}},[e._v("proxyexec")]),e._v(" mechanism")],1)]),e._v(" "),s("p",[e._v("You can find details on how to configure CageFS properly here:")]),e._v(" "),s("ul",[s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#configuration-2"}},[e._v("Configuration. General information")])],1),e._v(" "),s("li",[s("router-link",{attrs:{to:"/control_panel_integration/#how-to-integrate-cagefs-with-a-control-panel"}},[e._v("How to integrate CageFS with any control panel")])],1)]),e._v(" "),e._m(15),e._v(" "),s("p",[e._v("A reply from any integration script should be a valid JSON and UTF-8 encoding is required.")]),e._v(" "),e._m(16),e._v(" "),e._m(17),s("p",[e._v("In case of error, the output should be one of the following.")]),e._v(" "),e._m(18),e._v(" "),e._m(19),e._v(" "),e._m(20),e._m(21),e._v(" "),e._m(22),e._v(" "),e._m(23),e._v(" "),e._m(24),e._v(" "),e._m(25),e._m(26),e._v(" "),e._m(27),e._v(" "),e._m(28),e._v(" "),s("p",[e._v("In case when known to be false arguments are passed to the utility, for example:")]),e._v(" "),e._m(29),e._v(" "),e._m(30),e._v(" "),e._m(31),e._m(32),e._v(" "),e._m(33),e._v(" "),e._m(34),e._v(" "),e._m(35),e._v(" "),e._m(36),e._m(37),e._v(" "),e._m(38),e._v(" "),e._m(39),e._v(" "),e._m(40),e._v(" "),s("p",[e._v("Returns the information about the control panel in the format specified.")]),e._v(" "),e._m(41),e._v(" "),e._m(42),e._m(43),e._v(" "),e._m(44),e._m(45),e._v(" "),e._m(46),e._v(" "),e._m(47),e._v(" "),s("p",[e._v("Returns the information about databases that are available to the control panel users and are managed by the control panel.")]),e._v(" "),e._m(48),e._v(" "),s("p",[e._v("Integration script is optional, when there is no script, "),s("router-link",{attrs:{to:"./cloudlinux_os_components/#plugins"}},[e._v("lve-stats won’t collect SQL snapshots")]),e._v(".")],1),e._v(" "),e._m(49),e._v(" "),e._m(50),e._m(51),e._v(" "),e._m(52),e._m(53),e._v(" "),e._m(54),e._v(" "),e._m(55),e._v(" "),s("p",[e._v("The package is an abstraction that represents a group of users that have the same default limits.")]),e._v(" "),e._m(56),e._v(" "),e._m(57),e._m(58),e._v(" "),e._m(59),e._v(" "),e._m(60),e._v(" "),e._m(61),e._m(62),e._v(" "),e._m(63),e._v(" "),e._m(64),e._v(" "),s("p",[e._v("Returns information about UNIX users, created and managed by the control panel. You will be able to manage the limits of these users via LVE Manager.")]),e._v(" "),s("p",[e._v("If a reseller or administrator except for the account in the control panel has UNIX-user in the system, it should be included in this list.")]),e._v(" "),e._m(65),e._v(" "),e._m(66),e._m(67),e._v(" "),e._m(68),e._v(" "),s("p",[e._v("The key is used to reduce the data size for the large systems. You can ignore the key and always output the full set of data. Note that in this case, CloudLinux will work more slowly.")]),e._v(" "),e._m(69),e._v(" "),e._m(70),e._m(71),e._v(" "),e._m(72),e._m(73),e._v(" "),e._m(74),e._m(75),e._v(" "),e._m(76),e._v(" "),e._m(77),e._v(" "),s("p",[e._v("Returns key-value object, where a key is a domain (or subdomain) and a value is a key-value object contains the owner name (UNIX users), the path to the site root specified in the HTTP server config, and the domain status (main or alternative).")]),e._v(" "),e._m(78),e._v(" "),e._m(79),e._v(" "),e._m(80),e._m(81),e._v(" "),e._m(82),e._v(" "),e._m(83),e._v(" "),e._m(84),e._m(85),e._v(" "),e._m(86),e._v(" "),e._m(87),e._v(" "),s("p",[e._v("Gives information about resellers who can be users owners in the control panel. Resellers do not obligatory have their own same-name UNIX accounts in the system and could exist only as an account in the control panel.")]),e._v(" "),e._m(88),e._v(" "),e._m(89),e._m(90),e._v(" "),e._m(91),e._v(" "),e._m(92),e._v(" "),e._m(93),e._m(94),e._v(" "),e._m(95),e._v(" "),e._m(96),e._v(" "),s("p",[e._v("Gives information about panel’s administrators, output information about all panel’s administrators who:")]),e._v(" "),e._m(97),e._v(" "),e._m(98),e._v(" "),e._m(99),e._m(100),e._v(" "),e._m(101),e._v(" "),e._m(102),e._v(" "),e._m(103),e._m(104),e._v(" "),e._m(105),e._v(" "),e._m(106),e._v(" "),s("p",[e._v("For CloudLinux proper operation, you should implement hooks mechanism. These hooks are called with the specified arguments in the proper time. All scripts should be executed by the control panel from the system root user.")]),e._v(" "),e._m(107),e._v(" "),e._m(108),e._v(" "),e._m(109),e._v(" "),s("p",[e._v("After creating a new administrator, the control panel should call the following command:")]),e._v(" "),e._m(110),e._m(111),e._v(" "),s("p",[e._v("Before removing the administrator, the following command should be called by the control panel:")]),e._v(" "),e._m(112),e._m(113),e._v(" "),e._m(114),e._v(" "),s("p",[e._v("To manage user limits properly, CloudLinux utilities need information about the following events occurred in the control panel:")]),e._v(" "),s("p",[e._v("After creating a new user, the following script should be called:")]),e._v(" "),e._m(115),e._m(116),e._v(" "),s("p",[e._v("After renaming a user (when a user name or a home directory was changed), the following script should be called:")]),e._v(" "),e._m(117),e._m(118),e._v(" "),s("p",[e._v("After moving the user to the new owner, the following command should be run:")]),e._v(" "),e._m(119),e._m(120),e._v(" "),s("p",[e._v("Before removing a user, the following command should be run:")]),e._v(" "),e._m(121),e._m(122),e._v(" "),s("p",[e._v("After removing the user, you should call the following command:")]),e._v(" "),e._m(123),e._m(124),e._v(" "),e._m(125),e._v(" "),s("p",[e._v("After renaming a domain (or any equivalent domain removal operation with transfer of all data to another domain), the following command should be run:")]),e._v(" "),e._m(126),e._m(127),e._v(" "),e._m(128),e._v(" "),e._m(129),e._v(" "),s("p",[e._v("This script should return information about the current user opening Web UI\nUsed only in UI part of the LVE Manager and utilities.")]),e._v(" "),e._m(130),e._v(" "),e._m(131),e._m(132),e._v(" "),s("p",[e._v("The following configuration file parameters are used to determine the location of the plugin UI part.")]),e._v(" "),e._m(133),e._v(" "),e._m(134),e._v(" "),s("p",[e._v("The first use case:")]),e._v(" "),e._m(135),s("p",[e._v("This script defines the type of user and displays icons to open plugins included in LVE Manager.\nYou can customize your styles by copying the file content and setting your control panel styles.\nIn this case, all LVE Manager plugins will be opened in a new window.")]),e._v(" "),s("p",[e._v("The second use case:")]),e._v(" "),s("p",[e._v("Embedding the specific plugin into the control panel page.")]),e._v(" "),e._m(136),s("p",[e._v("Pass the plugin name to the class constructor to initialize the plugin (user name will be defined).\nAt the time of the insertPanel method invocation, the SPA application with the specified Selector will be embedded.")]),e._v(" "),s("p",[e._v("Queries to the backend are created separately in the points (PHP files) which are located in the LVE Manager catalog.")]),e._v(" "),e._m(137),e._v(" "),s("p",[e._v("LVE Manager scripts are run outside CageFS (on production systems). When calling API, LVE Manager scripts enter into CageFS if needed (Node.js Selector, Python Selector). PHP Selector API does not work if the script is started inside CageFS and returns an error.")]),e._v(" "),s("p",[e._v("In case of Node.js Selector and Python Selector, this is due to the possibility of starting scripts from the UI (npm run, pip install). They are run inside LVE.")]),e._v(" "),s("p",[e._v("In case of PHP Selector, there is not possible. When PHP Selector is called, the resources for such queries are not limited and when the user’s site is reaching limits, the UI will work without enforcing limits.")]),e._v(" "),e._m(138),e._v(" "),s("p",[e._v("CageFS documentation can be found here: "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#cagefs"}},[e._v("CageFS")])],1),e._v(" "),e._m(139),e._v(" "),e._m(140),e._v(" "),e._m(141),s("p",[e._v("You can set MIN_UID by executing:")]),e._v(" "),e._m(142),s("p",[e._v("For example, to set MIN_UID to 10000, you should execute")]),e._v(" "),e._m(143),e._m(144),e._v(" "),s("p",[e._v("CageFS is enabled for su, ssh and cron services by default.\n"),s("router-link",{attrs:{to:"/cloudlinux_os_components/#pam-configuration"}},[e._v("PAM Configuration")])],1),e._v(" "),s("p",[e._v("Also you can enable CageFS for any service that uses PAM.\n{LVE PAM Module](/cloudlinux_os_components/#lve-pam-module)")]),e._v(" "),e._m(145),e._v(" "),e._m(146),e._v(" "),s("p",[e._v("You should apply CloudLinux patches to integrate CageFS with Apache. Details can be found here:\n"),s("router-link",{attrs:{to:"/control_panel_integration/#integration-of-apache-modules-with-control-panels"}},[e._v("Integration of Apache modules with Control Panels")])],1),e._v(" "),s("p",[e._v("Note that it may be required to execute “cagefsctl --force-update” after rebuild of Apache in order to update CageFS.")]),e._v(" "),e._m(147),e._v(" "),s("p",[e._v("You may want to execute commands inside CageFS for security reasons. To do so, you can execute a command inside CageFS in the following way:")]),e._v(" "),e._m(148),s("p",[e._v("The commands above require root privileges. You can use the following command when running as user:")]),e._v(" "),e._m(149),e._m(150),e._v(" "),s("p",[e._v("Updating CageFS skeleton is required after update of system RPM packages. It may be also required after update of hosting control panel itself. Execute")]),e._v(" "),e._m(151),s("p",[e._v("in order to update CageFS skeleton.\nCageFS RPM package installs a daily cron job that updates CageFS skeleton")]),e._v(" "),e._m(152),s("p",[e._v("You can set update period for CageFS skeleton in days using")]),e._v(" "),e._m(153),e._m(154),e._v(" "),s("p",[e._v("Each user in CageFS has its own "),s("code",[e._v("/tmp")]),e._v(" directory that is not visible for other users. PHP scripts save sessions in "),s("code",[e._v("/tmp")]),e._v(" directory by default (when "),s("code",[e._v("session.save_path")]),e._v(" directive is empty). However, you can set up a different location for PHP sessions specific to each PHP versions using CageFS per-user "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#mount-points"}},[e._v("mounts")]),e._v(" like it is done for alt-php. Simply add a line like below to "),s("code",[e._v("/etc/cagefs/cagefs.mp")])],1),e._v(" "),e._m(155),s("p",[e._v("and then execute")]),e._v(" "),e._m(156),s("p",[e._v("to apply changes. After that, session files will be stored in "),s("code",[e._v("/opt/alt/php54/var/lib/php/session")]),e._v(" inside user’s CageFS. In real file systems these files can be found inside "),s("code",[e._v(".cagefs")]),e._v(" directory in user’s home directory. For above example, given that user’s home directory is "),s("code",[e._v("/home/user")]),e._v(", the files will reside in "),s("code",[e._v("/home/user/.cagefs/opt/alt/php54/var/lib/php/session")]),e._v(" directory. TMP directory for the user will be located in "),s("code",[e._v("/home/user/.cagefs/tmp")]),e._v(".\nTemporary files including php sessions in "),s("code",[e._v("/tmp")]),e._v(" directories in CageFS are cleaned using "),s("code",[e._v("tmpwatch")]),e._v(". You can change the period of removing old temporary files or set up additional directories for cleaning according to the documentation:\n"),s("router-link",{attrs:{to:"/cloudlinux_os_components/#tmp-directories"}},[e._v("TMP directories")]),e._v(".")],1),e._v(" "),s("p",[e._v("Knowing the location where PHP sessions are stored (described above), you can also implement any custom script for cleaning PHP sessions. Remember to drop permissions (switch to the appropriate user) when removing the files (for example using sudo).")]),e._v(" "),e._m(157),e._v(" "),s("p",[e._v("When user or admin account has been created, you should execute an appropriate hook script, so all needed actions are performed.\nMore about CloudLinux hooks subsystem: "),s("router-link",{attrs:{to:"/control_panel_integration/#control-panel-hooks-integration"}},[e._v("Control Panel Hooks Integration")])],1),e._v(" "),e._m(158),e._v(" "),e._m(159),e._v(" "),e._m(160),e._v(" "),e._m(161),e._v(" "),s("p",[e._v("You should execute appropriate hook script when an account has been modified: "),s("router-link",{attrs:{to:"/control_panel_integration/#control-panel-hooks-integration"}},[e._v("Control Panel Hooks Integration")])],1),e._v(" "),e._m(162),e._v(" "),e._m(163),e._v(" "),e._m(164),s("p",[e._v("This script performs all needed actions when a user is being removed.\nAnyway, you should execute appropriate hook script when removing an account:\n"),s("router-link",{attrs:{to:"/control_panel_integration/#control-panel-hooks-integration"}},[e._v("Control Panel Hooks Integration")])],1),e._v(" "),e._m(165),e._v(" "),e._m(166),e._v(" "),e._m(167),s("p",[e._v("to apply changes and check that the command shows "),s("em",[e._v("Disabled")]),e._v(":\n"),s("router-link",{attrs:{to:"/cloudlinux_os_components/#excluding-users"}},[e._v("Excluding users")])],1),e._v(" "),e._m(168),e._v(" "),s("p",[e._v("To add a file or directory to CageFS, you can create custom .cfg file in "),s("code",[e._v("/etc/cagefs/conf.d")]),e._v(" directory and specify paths to be added to CageFS in that config file:\n"),s("router-link",{attrs:{to:"/cloudlinux_os_components/#file-system-templates"}},[e._v("File System Templates")])],1),e._v(" "),s("p",[e._v("To update CageFS run:")]),e._v(" "),e._m(169),s("p",[e._v("Also you can mount directory from real system to CageFS via "),s("code",[e._v("/etc/cagefs/cagefs.mp")]),e._v(" config file. It is the proper way to add frequently modified files or unix sockets to CageFS:\n"),s("router-link",{attrs:{to:"/cloudlinux_os_components/#mount-points"}},[e._v("Mount Points")])],1),e._v(" "),s("p",[e._v("Note that you should execute")]),e._v(" "),e._m(170),e._m(171),e._v(" "),e._m(172),e._v(" "),s("p",[e._v("CageFS mounts users' home directories to CageFS automatically. Usually, there is no need to configure anything. However, if your control panel uses a custom path to users' home directories (for example "),s("code",[e._v("/home/$USER/data")]),e._v(" instead of "),s("code",[e._v("/home/$USER")]),e._v("), then it may be necessary to configure Base Home Directory setting:\n"),s("router-link",{attrs:{to:"/cloudlinux_os_components/#base-home-directory"}},[e._v("Base Home Directory")])],1),e._v(" "),s("p",[e._v("The modes of mounting users' home directories into CageFS are described here:\n"),s("router-link",{attrs:{to:"/cloudlinux_os_components/#mounting-users-home-directory-inside-cagefs"}},[e._v("Mounting user’s home directory inside CageFS")])],1),e._v(" "),e._m(173),e._v(" "),s("p",[e._v("CageFS has a default set of files and directories that are visible to users inside CageFS. If you wish to exclude some of these files or directories from CageFS, you can do this like described below:\n"),s("router-link",{attrs:{to:"/cloudlinux_os_components/#excluding-files"}},[e._v("Excluding files")])],1),e._v(" "),e._m(174),e._v(" "),s("p",[e._v("SUID programs cannot run inside CageFS due to “nosuid” mounts. You can allow users in CageFS to execute some specific commands outside of CageFS via proxyexec. Typically these commands are suid programs or programs that cannot run inside CageFS.\nMore details: "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#executing-by-proxy"}},[e._v("Executing by proxy")])],1),e._v(" "),e._m(175),e._v(" "),s("p",[e._v("It is possible to disable specific “dangerous” options of programs executed via proxyexec. More details:\n"),s("router-link",{attrs:{to:"/cloudlinux_os_components/#executing-by-proxy"}},[e._v("Executing by proxy")])],1),e._v(" "),e._m(176),e._v(" "),s("p",[e._v("Complete documentation for CloudLinux PHP Selector can be found here:\n"),s("router-link",{attrs:{to:"/cloudlinux_os_components/#php-selector"}},[e._v("PHP Selector")])],1),e._v(" "),e._m(177),e._v(" "),s("p",[e._v("If your control panel has some PHP version selector installed already, we suggest you not to enable CloudLinux PHP Selector for your users, so they will not be confused by two multiple PHP Selectors. However, if you want to use CloudLinux PHP Selector anyway, you can refer to the following article to configure loading of extensions for alt-php: "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#php-extensions"}},[e._v("PHP extensions")])],1),e._v(" "),e._m(178),e._v(" "),e._m(179),s("p",[e._v("to apply changes.\nMore details: "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#native-php-configuration"}},[e._v("Native PHP Configuration")])],1),e._v(" "),s("p",[e._v("You can configure CloudLinux PHP Selector to allow your customers an ability to select any custom PHP version specific to your control panel. Here's how to do this:\n"),s("router-link",{attrs:{to:"/cloudlinux_os_components/#roll-your-own-php"}},[e._v("Roll your own PHP")])],1),e._v(" "),s("p",[e._v("Also, you can compile and add your own PHP extensions to CloudLinux PHP Selector:\n"),s("router-link",{attrs:{to:"/cloudlinux_os_components/#compiling-your-own-extensions"}},[e._v("Compiling your own extensions")])],1),e._v(" "),e._m(180),e._v(" "),s("p",[e._v("We provide control panels with the ability to build their own Apache packages with modules such as alt-mod-passenger, mod_lsapi, mod_hostinglimits. This is due to the fact that control panels often have own custom Apache. At the same time, the modules must be compiled with the version of Apache and APR libraries that control panels use. Therefore, if your control panel uses an Apache that is provided by CloudLinux OS, you can use native packages with modules. The following table represents the RPM package compatibility.")]),e._v(" "),s("p",[e._v("RPMs of Apache provided by CloudLinux, if you are using:")]),e._v(" "),e._m(181),e._v(" "),s("p",[e._v("If you use custom Apache, follow this documentation on how to build a package for your Apache.")]),e._v(" "),e._m(182),e._v(" "),e._m(183),e._v(" "),e._m(184),e._m(185),e._v(" "),e._m(186),e._m(187),e._v(" "),e._m(188),e._m(189),e._v(" "),e._m(190),e._m(191),e._v(" "),e._m(192),e._v(" "),e._m(193),e._v(" "),e._m(194),e._m(195),e._v(" "),e._m(196),e._m(197),e._v(" "),e._m(198),e._m(199),e._v(" "),e._m(200),e._m(201),e._v(" "),e._m(202),e._v(" "),e._m(203),e._v(" "),e._m(204),s("p",[e._v("On CloudLinux 7 you also should install criu related packages")]),e._v(" "),e._m(205),e._m(206),e._v(" "),e._m(207),e._m(208),e._v(" "),e._m(209),e._m(210),e._v(" "),e._m(211),s("p",[e._v("with the following line:")]),e._v(" "),e._m(212),e._m(213),e._v(" "),e._m(214),s("p",[e._v("with the following line:")]),e._v(" "),e._m(215),e._m(216),e._v(" "),e._m(217),e._m(218),e._v(" "),e._m(219),e._m(220),e._v(" "),e._m(221),e._m(222),e._v(" "),e._m(223),e._v(" "),e._m(224),e._v(" "),e._m(225),e._m(226),e._v(" "),e._m(227),e._m(228),e._v(" "),e._m(229),s("ol",{attrs:{start:"5"}},[e._m(230),e._v(" "),s("li",[s("p",[e._v("Configure user mapping to the database. The mapping format is described in the following "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#mapping-a-user-to-a-database"}},[e._v("section")]),e._v(". The control panel should automatically generate such mapping and write it to "),s("code",[e._v("/etc/container/dbuser-map")]),e._v(". Usually, it is enough to write a hook when adding, deleting or renaming a database for a user. The control panel should implement such a mechanism for MySQL Governor to operate properly. MySQL Governor automatically applies changes from the dbuser-map file every five minutes.")],1)]),e._v(" "),s("li",[s("p",[e._v("MySQL Governor configuration can be found in the following "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#configuration-3"}},[e._v("section")]),e._v(".")],1)]),e._v(" "),s("li",[s("p",[e._v("MySQL Governor CLI tools description can be found in the following "),s("router-link",{attrs:{to:"/command-line_tools/#mysql-governor"}},[e._v("section")])],1)]),e._v(" "),e._m(231)]),e._v(" "),e._m(232),e._m(233),e._v(" "),e._m(234),e._v(" "),e._m(235),e._v(" "),s("p",[e._v("If you use custom Apache, you need to apply patches so that the processes launched by the Apache are worked with LVE and CageFS properly.\nCloudlinux provides patches for the following packages:")]),e._v(" "),s("p",[e._v("*suphp\n*suexec\n*php-fpm\n*apr library\n*Apache mpm itk")]),e._v(" "),s("p",[e._v("First of all, download patches using the following link "),s("a",{attrs:{href:"https://repo.cloudlinux.com/cloudlinux/sources/da/cl-apache-patches.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://repo.cloudlinux.com/cloudlinux/sources/da/cl-apache-patches.tar.gz"),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("To apply the patch, follow these steps.")]),e._v(" "),e._m(236),e._v(" "),s("p",[e._v("Here's an example with apr library:")]),e._v(" "),e._m(237),s("p",[e._v("If you build custom RPM packages, it might make sense to apply patches using spec file.")]),e._v(" "),s("p",[e._v("In this case, add to the Source section (example for apr):")]),e._v(" "),e._m(238),e._m(239),e._v(" "),e._m(240),s("p",[e._v("If no errors appear during the build, the patch has been successfully applied.")]),e._v(" "),e._m(241),e._v(" "),s("p",[e._v("All versions of alt-php should work properly in any control panel.")]),e._v(" "),s("p",[e._v("To install all PHP versions, run:")]),e._v(" "),e._m(242),s("p",[e._v("To install a particular version of PHP, run:")]),e._v(" "),e._m(243),s("p",[e._v("For details, see "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#installation-and-update-4"}},[e._v("PHP Selector Installation and Update")])],1),e._v(" "),e._m(244),e._v(" "),e._m(245),e._v(" "),s("p",[e._v("CloudLinux kernel allows the server administrator to control the user access to the "),s("code",[e._v("/proc")]),e._v(" filesystem with the special parameters.\nUnprivileged system users will not be able to see the processes of other system users, they can only see their processes. See details "),s("router-link",{attrs:{to:"/cloudlinux_os_kernel/#virtualized-proc-filesystem"}},[e._v("here")]),e._v(".")],1),e._v(" "),e._m(246),e._v(" "),e._m(247),e._v(" "),s("p",[s("span",{staticClass:"notranslate"},[s("router-link",{attrs:{to:"/cloudlinux_os_kernel/#remounting-procfs-with-hidepid-option"}},[s("code",[e._v("hidepid")])])],1),e._v(" parameter is set based on the "),e._m(248),e._v(" parameter value automatically during the "),e._m(249),e._v(" service starting (i.e. during "),e._m(250),e._v(" package installation and server booting).")]),e._v(" "),e._m(251),e._v(" "),e._m(252),e._v(" "),e._m(253),e._v(" "),e._m(254),e._v(" "),e._m(255),e._v(" "),s("p",[e._v("This command is a hook that the control panel should call after adding the admin user to the system.")]),e._v(" "),s("p",[e._v("If the "),s("router-link",{attrs:{to:"/control_panel_integration/#admins"}},[e._v("admins")]),e._v(" list script exists when installing "),e._m(256),e._v(" package then the existing administrators will be processed automatically. It the script does not exist, you should run the above mentioned command for each administrator.")],1),e._v(" "),e._m(257),e._v(" "),s("p",[e._v("CloudLinux kernels have symlink attacks protection. When this protection is enabled, the system does not allow users to create symlinks (and hard links) to non-existent/not their own files.")]),e._v(" "),s("p",[e._v("For details see "),s("router-link",{attrs:{to:"/cloudlinux_os_kernel/#link-traversal-protection"}},[e._v("here")]),e._v(". Here you can find all protection mechanism parameters.")],1),e._v(" "),s("p",[e._v("See also: "),s("router-link",{attrs:{to:"/cloudlinux_os_kernel/#symlink-owner-match-protection"}},[e._v("the special module to protect web-server")]),e._v(".")],1),e._v(" "),e._m(258),e._v(" "),e._m(259),e._v(" "),e._m(260),e._v(" "),e._m(261),e._v(" "),e._m(262),e._v(" "),s("p",[e._v("Before enabling symlink protection, ensure it does not break the control panel functionality.")]),e._v(" "),s("p",[e._v("For example, if an unprivileged user is allowed to create symlinks or hard links to files or directories he doesn’t own then when enabling symlink traversal protection he will not be able to do it.")]),e._v(" "),e._m(263),e._v(" "),e._m(264),e._v(" "),e._m(265),e._v(" "),s("p",[e._v("So they are subject to the disk quotas if any are set for the user. The utilities can override these quotas to avoid failures.\nSee "),s("router-link",{attrs:{to:"/cloudlinux_os_kernel/#file-system-quotas"}},[e._v("File system quotas")]),e._v(" for kernel parameters controlling these permissions. This parameter is used only for XFS file system.")],1)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"control-panel-integration-draft"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#control-panel-integration-draft","aria-hidden":"true"}},[this._v("#")]),this._v(" Control panel integration (Draft)")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),t("p",[this._v("We encourage you to create a pull request with your feedback at the bottom of the page.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"general"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#general","aria-hidden":"true"}},[this._v("#")]),this._v(" General")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("-rw-r--r-- root root /opt/cpvendor/etc/integration.ini\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Assumed that this package contains the list of paths to the integration scripts (or to the one script if it deals with all "),t("code",[this._v("cpapi")]),this._v(" commands).")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"example-of-the-integration-config"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example-of-the-integration-config","aria-hidden":"true"}},[this._v("#")]),this._v(" "),t("strong",[this._v("Example of the integration config")]),this._v(":")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("[integration_scripts]\n\nget_cp_name = /usr/bin/cl_panel_script some-command-to-get-cpname --any-args\nget_cp_description = /usr/bin/script_get_cp_description\ndb_access = /usr/bin/cl_panel_script_db_access\n\n\n[lvemanager_config]\nui_user_info = /panel/path/ui_user_info.sh\nbase_path = /panel/path/lvemanager\nbase_uri = /lvemanager\n\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"control-panel-api-integration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#control-panel-api-integration","aria-hidden":"true"}},[this._v("#")]),this._v(" Control panel API integration")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("To integrate CPAPI, set the paths to the scripts in the integration file in the "),t("code",[this._v("integration_scripts")]),this._v(" section (see example above.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"integration-scripts-requirements"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#integration-scripts-requirements","aria-hidden":"true"}},[this._v("#")]),this._v(" Integration scripts requirements")])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[this._v("Some scripts are run from both root and end-user. If the script is run from end-user it should return information related to this user only, filtering the irrelevant data for security/isolation purposes or return "),t("code",[this._v("PermissionDenied")]),this._v(" if script is not intended to be run as this user at all.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"legend"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#legend","aria-hidden":"true"}},[this._v("#")]),this._v(" "),t("strong",[this._v("Legend")]),this._v(":")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",[s("li",[e._v("Necessity "),s("code",[e._v("always")]),e._v(" means it’s required nearly by all CloudLinux code and should be implemented no matter what features you are interested in. Other methods might not be implemented and this will affect only some CloudLinux features leaving others to work fine.")]),e._v(" "),s("li",[s("code",[e._v("All UNIX users")]),e._v(" means any Linux system account (from "),s("code",[e._v("/etc/passwd")]),e._v(") that is able to execute CloudLinux utilities directly or indirectly.")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Script name")]),e._v(" "),s("td",[e._v("Necessity")]),e._v(" "),s("td",[e._v("Accessed by")]),e._v(" "),s("td",[e._v("Must work inside CageFS also")])]),e._v(" "),s("tr",[s("td",[e._v("panel_info")]),e._v(" "),s("td",[e._v("Always")]),e._v(" "),s("td",[e._v("All UNIX users")]),e._v(" "),s("td",[e._v("+")])]),e._v(" "),s("tr",[s("td",[e._v("db_info")]),e._v(" "),s("td",[e._v("Only for LVE-Stats, otherwise optional")]),e._v(" "),s("td",[e._v("admins (UNIX users)")]),e._v(" "),s("td",[e._v("-")])]),e._v(" "),s("tr",[s("td",[e._v("packages")]),e._v(" "),s("td",[e._v("For limits functionality")]),e._v(" "),s("td",[e._v("admins (UNIX users)")]),e._v(" "),s("td",[e._v("-")])]),e._v(" "),s("tr",[s("td",[e._v("users")]),e._v(" "),s("td",[e._v("Always")]),e._v(" "),s("td",[e._v("admins (UNIX users)")]),e._v(" "),s("td",[e._v("-")])]),e._v(" "),s("tr",[s("td",[e._v("domains")]),e._v(" "),s("td",[e._v("Selectors, some UI features")]),e._v(" "),s("td",[e._v("All UNIX users")]),e._v(" "),s("td",[e._v("+")])]),e._v(" "),s("tr",[s("td",[e._v("resellers")]),e._v(" "),s("td",[e._v("Always")]),e._v(" "),s("td",[e._v("admins (UNIX users)")]),e._v(" "),s("td",[e._v("-")])]),e._v(" "),s("tr",[s("td",[e._v("admins")]),e._v(" "),s("td",[e._v("Always")]),e._v(" "),s("td",[e._v("admins (UNIX users)")]),e._v(" "),s("td",[e._v("-")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"working-with-cpapi-cagefs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#working-with-cpapi-cagefs","aria-hidden":"true"}},[this._v("#")]),this._v(" Working with CPAPI & CageFS")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"expected-structure-of-replies"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#expected-structure-of-replies","aria-hidden":"true"}},[this._v("#")]),this._v(" Expected structure of replies")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("There are two expected formats of integration script replies. In case of success, the metadata.result field is "),t("code",[this._v("ok")]),this._v(" and the data field contains data according to the specification of the specific integration script. Return code is "),t("code",[this._v("0")]),this._v(".")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('{\n  "data": object or array,\n  "metadata": {\n    "result": "ok"\n  }\n}\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"internal-errors"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#internal-errors","aria-hidden":"true"}},[this._v("#")]),this._v(" Internal errors")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("In case when data is temporarily unavailable due to internal errors in the integration script (database unavailable, file access problems, etc), the return code is "),t("code",[this._v("1")]),this._v(" and the output  is as follows:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('{\n  "data": null,\n  "metadata": {\n    "result": "InternalAPIError",\n    "message": "API is restarting, try again later"\n  }\n}\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Data description")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Key")]),e._v(" "),s("td",[e._v("Nullable")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("message")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Error message for an administrator printed by CloudLinux utility")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"restricted-access"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#restricted-access","aria-hidden":"true"}},[this._v("#")]),this._v(" Restricted access")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("In case when data is unavailable due to restricted access of a user that called the script, the return code is "),t("code",[this._v("2")]),this._v(" and the output  is as follows:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('{\n  "data": null,\n  "metadata": {\n    "result": "PermissionDenied",\n    "message": "Only sudoers can view this section."\n  }\n}\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Data description")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Key")]),e._v(" "),s("td",[e._v("Nullable")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("message")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Error message for an administrator printed by CloudLinux utility")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"error-in-arguments"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#error-in-arguments","aria-hidden":"true"}},[this._v("#")]),this._v(" Error in arguments")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("unknown argument")]),this._v(" "),t("li",[this._v("unknown fields in "),t("code",[this._v("--fields")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("The return code is "),t("code",[this._v("3")]),this._v(" and the output is as follows:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('{\n  "data": null,\n  "metadata": {\n    "result": "BadRequest",\n    "message": "Unknown field ‘nosuchfield’"\n  }\n}\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Data description")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Key")]),e._v(" "),s("td",[e._v("Nullable")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("message")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Error message for an administrator printed by CloudLinux utility")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"nonexistent-entities"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nonexistent-entities","aria-hidden":"true"}},[this._v("#")]),this._v(" Nonexistent entities")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("In case when during data filtering the target entity doesn't exist in the control panel, the return code is "),t("code",[this._v("4")]),this._v(" and the output is as follows:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('{\n  "data": null,\n  "metadata": {\n    "result": "NotFound",\n    "message": "No such user `unix_user_name`"\n  }\n}\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Data description")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Key")]),e._v(" "),s("td",[e._v("Nullable")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("message")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Error message for an administrator printed by CloudLinux utility")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"the-list-of-the-integration-scripts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#the-list-of-the-integration-scripts","aria-hidden":"true"}},[this._v("#")]),this._v(" The list of the integration scripts")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"panel-info"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#panel-info","aria-hidden":"true"}},[this._v("#")]),this._v(" panel_info")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Usage example")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("/scripts/panel_info\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Output example")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('{\n\t"data": {\n\t\t"name": "CentosWebPanel",\n\t\t"version": "1.0.1",\n            "user_login_url": "https://{domain}:1111/"\n\t},\n\t"metadata": {\n\t\t"result": "ok"\n\t}\n}\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Data description")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Key")]),e._v(" "),s("td",[e._v("Nullable")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("name")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Control panel name")])]),e._v(" "),s("tr",[s("td",[e._v("version")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Control panel version")])]),e._v(" "),s("tr",[s("td",[e._v("user_login_url_template")]),e._v(" "),s("td",[e._v("True")]),e._v(" "),s("td",[e._v("URL template for a user entering to control panel. Used in the lve-stats default templates reporting that user is exceeding server load. You can use the following placeholders in the template: "),s("code",[e._v("{domain}")]),e._v(". CloudLinux utility automatically replaces  placeholders to the real values. "),s("strong",[e._v("Example")]),e._v(":"),s("code",[e._v("“user_login_url_template”: “https://{domain}:2087/login”")]),e._v(" CloudLinux utility automatically replaces "),s("code",[e._v("{domain}")]),e._v(", and the link will look like "),s("code",[e._v("https://domain.zone:2087/login")])])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"db-info"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#db-info","aria-hidden":"true"}},[this._v("#")]),this._v(" db_info")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"warning custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("WARNING!")]),this._v(" "),t("p",[this._v("For now, CloudLinux supports control panels with only one MySQL database.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Usage example")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("/scripts/db_info\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Output")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('{\n  "data": {\n    "mysql": {\n      "access": {\n        "login": "root",\n        "password": "Cphxo6z",\n        "host": "localhost",\n        "port": 3306\n      },\n      "mapping": {\n        "unix_user_name": [\n          "db_user_name1",\n          "db_user_name2"\n        },\n        "unix_user_name2": [\n          "db_user_name3",\n          "db_user_name4"\n        }\n      }\n    }\n  },\n  "metadata": {\n    "result": "ok"\n  }\n}\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Data description")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Key")]),e._v(" "),s("td",[e._v("Nullable")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("mysql")]),e._v(" "),s("td",[e._v("True")]),e._v(" "),s("td",[e._v("Data section for the MySQL database. Used in lve-stats; if there is no data, snapshots of  SQL queries won’t be collected.")])]),e._v(" "),s("tr",[s("td",[e._v("mysql.access.login")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("User name to enter to the database to view a list of SQL queries that are executing at the moment.")])]),e._v(" "),s("tr",[s("td",[e._v("mysql.access.password")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Open password.")])]),e._v(" "),s("tr",[s("td",[e._v("mysql.access.host")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Host to access the database.")])]),e._v(" "),s("tr",[s("td",[e._v("mysql.access.port")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Port to access the database.")])]),e._v(" "),s("tr",[s("td",[e._v("mysql.mapping")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("A mapping file where the key is the name of a UNIX user managed by the control panel and the value is a list of the corresponding database users.")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"packages"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#packages","aria-hidden":"true"}},[this._v("#")]),this._v(" packages")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Usage example")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("/scripts/packages [--owner=<owner>]\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Arguments")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Key")]),e._v(" "),s("td",[e._v("Required")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("--owner, -o")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Set the name of the packages' owner to output.")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Output example")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('{\n  "data": [\n    {\n      "name": "package",\n      "owner": "root"\n    },\n    {\n      "name": "package",\n      "owner": "admin"\n    },\n    {\n      "name": "package",\n      "owner": "reseller"\n    }  \n  ],\n  "metadata": {\n    "result": "ok"\n  }\n}\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Data description")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Key")]),e._v(" "),s("td",[e._v("Nullable")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("name")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Package name")])]),e._v(" "),s("tr",[s("td",[e._v("owner")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Package’s owner name. The owner can be the administrator or reseller.")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"users"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#users","aria-hidden":"true"}},[this._v("#")]),this._v(" users")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Usage example")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("/scripts/users [--owner=<string> | (--package-name=<string> & --package-owner=<string>) | --username=<string>] [--fields=id,username,package,...]\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Arguments")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Key")]),e._v(" "),s("td",[e._v("Required")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("--owner, -o")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Used for filtering. When the argument is set, output only this owner packages.")])]),e._v(" "),s("tr",[s("td",[e._v("--package-name")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Used for filtering. Set the name of the package which users to output. Used ONLY in pair with "),s("code",[e._v("--package-owner")]),e._v(".")])]),e._v(" "),s("tr",[s("td",[e._v("--package-owner")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Used in pair with package.name. Set the owner of the specified package.")])]),e._v(" "),s("tr",[s("td",[e._v("--username")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Used for filtering. When the parameter is set, output the information about this UNIX user only.")])]),e._v(" "),s("tr",[s("td",[e._v("--fields")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("List fields to output. Fields are divided with a comma; when there is no key, output all available fields.")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Output example")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('{\n  "data": [\n    {\n      "id": 1000,\n      "username": "ins5yo3",\n      "owner": "root",\n      "package": {\n        "name": "package", \n        "owner": "root"\n      },\n      "email": "ins5yo3@ins5yo3.com",\n      "locale_code": "EN_us"\n    },\n    {\n      "id": 1001,\n      "username": "ins5yo3",\n      "owner": "root",\n      "package": {\n        "name": "package", \n        "owner": "root"\n      },\n      "email": "ins5yo3@ins5yo3.com",\n      "locale_code": "EN_us"\n    }  \n  ],\n  "metadata": {\n    "result": "ok"\n  }\n}\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Example to output specific data fields")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("/scripts/users --filter=id,email\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Output")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('{\n  "data": [\n    {\n      "id": 1000,\n      "email": "ins5yo3@ins5yo3.com"\n    },\n    {\n      "id": 1001,\n      "email": "ins5yo3@ins5yo3.com"\n    }  \n  ],\n  "metadata": {\n    "result": "ok"\n  }\n}\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Data description")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Key")]),e._v(" "),s("td",[e._v("Nullable")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("id")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("ID of the UNIX account in the system.")])]),e._v(" "),s("tr",[s("td",[e._v("username")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("The name of the UNIX account in the system.")])]),e._v(" "),s("tr",[s("td",[e._v("owner")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("The name of the account owner in the control panel. The owner can be an administrator (in this case he should be included in the "),s("code",[e._v("admins()")]),e._v(" output) or a reseller (in this case he should be included in the "),s("code",[e._v("resellers()")]),e._v(" output).")])]),e._v(" "),s("tr",[s("td",[e._v("locale_code")]),e._v(" "),s("td",[e._v("True")]),e._v(" "),s("td",[e._v("The control panel locale selected by a user (the values are according to ISO 639-1). Used when sending lve-stats emails. If not selected, EN_us used.")])]),e._v(" "),s("tr",[s("td",[e._v("email")]),e._v(" "),s("td",[e._v("True")]),e._v(" "),s("td",[e._v("Email to send lve-stats notifications about hitting limits. If there is no email, should return null.")])]),e._v(" "),s("tr",[s("td",[e._v("package")]),e._v(" "),s("td",[e._v("True")]),e._v(" "),s("td",[e._v("Information about the package to which a user belongs to. If the user doesn’t belong to any package, should return null.")])]),e._v(" "),s("tr",[s("td",[e._v("package.name")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("The name of the package to which a user belongs to.")])]),e._v(" "),s("tr",[s("td",[e._v("package.owner")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("The owner of the package to which a user belongs to (reseller or administrator).")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"domains"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#domains","aria-hidden":"true"}},[this._v("#")]),this._v(" domains")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"warning custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),t("p",[this._v("To make Python/Node.js/Ruby/PHP Selector workable, this script should be executed with user access and inside CageFS.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Usage example")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("/scripts/domains ([--owner=<unix_user>] | [--name=<name>])\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Arguments")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Key")]),e._v(" "),s("td",[e._v("Required")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("--owner, -o")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Used for filtering output; set a name of the owner whose domains to print")])]),e._v(" "),s("tr",[s("td",[e._v("--name, -n")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Used for filtering output; set a name of the domain, to display information about it")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Output example")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('{\n  "data": {\n    "domain.com": {\n      "owner": "username",\n      "document_root": "/home/username/public_html/",\n      "is_main": True\n    },\n    "subdomain.domain.com": {\n      "owner": "username",\n      "document_root": "/home/username/public_html/subdomain/",\n      "is_main": False  \n    }\n  },\n  "metadata": {\n    "result": "ok"\n  }\n}\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Data description")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Key")]),e._v(" "),s("td",[e._v("Nullable")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("name")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Domain name (subdomains are acceptable)")])]),e._v(" "),s("tr",[s("td",[e._v("owner")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("UNIX user who is a domain owner")])]),e._v(" "),s("tr",[s("td",[e._v("document_root")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Absolute path to the site root directory")])]),e._v(" "),s("tr",[s("td",[e._v("is_main")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Is the domain the main domain for a user")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"resellers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#resellers","aria-hidden":"true"}},[this._v("#")]),this._v(" resellers")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Usage example")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("/scripts/resellers ([--id=<id>] | [--name=<name>])\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Arguments")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Key")]),e._v(" "),s("td",[e._v("Required")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("--id")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Used for filtering output; set a reseller ID to output information about it")])]),e._v(" "),s("tr",[s("td",[e._v("--name, -n")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Used for filtering output; set a reseller name to output information about it")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Output example")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('{\n  "data": [\n    {\n      "name": "reseller",\n      "locale_code": "EN_us",\n      "email": "reseller@domain.zone"\n      "id": 10001   \n    }\n  ],\n  "metadata": {\n    "result": "ok"\n  }\n}\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Data description")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Key")]),e._v(" "),s("td",[e._v("Nullable")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("name")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Reseller name in the control panel; unique on the server, should not be the same as administrators names")])]),e._v(" "),s("tr",[s("td",[e._v("locale_code")]),e._v(" "),s("td",[e._v("True")]),e._v(" "),s("td",[e._v("Control panel locale selected by a reseller (according to ISO 639-1). Default is EN_us.")])]),e._v(" "),s("tr",[s("td",[e._v("id")]),e._v(" "),s("td",[e._v("True")]),e._v(" "),s("td",[e._v("Unique reseller ID in the system. From "),s("code",[e._v("MAX_UID")]),e._v(" to "),s("code",[e._v("0xFFFFFFFF")]),e._v(", where "),s("code",[e._v("MAX_UID")]),e._v(" is a value from "),s("code",[e._v("/etc/login.defs")]),e._v(". Required for the second level reseller limits. Set null if not needed.")])]),e._v(" "),s("tr",[s("td",[e._v("email")]),e._v(" "),s("td",[e._v("True")]),e._v(" "),s("td",[e._v("Reseller email to send notifications from lve-stats about reseller’s users limits hitting. If no email, output null.")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"admins"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#admins","aria-hidden":"true"}},[this._v("#")]),this._v(" admins")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("could be (or actually are) the owners of the users, listed in users()")]),this._v(" "),t("li",[this._v("could be (or actually are) the owners of the packages, listed in packages()")]),this._v(" "),t("li",[this._v("has UNIX users with the rights to run LVE Manager UI")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Usage example")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("/scripts/admins ([--name=<string>] | [--is-main=<true|false>])\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Arguments")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Key")]),e._v(" "),s("td",[e._v("Required")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("--name, -n")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Used for filtering; set the administrator name to output information about it")])]),e._v(" "),s("tr",[s("td",[e._v("--is-main, -m")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Used for filtering output to get the main and the alternative administrators of the control panel")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Output example")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('{\n  "data": [\n    {\n      "name": "admin1",\n      "unix_user": "admin",\n      "locale_code": "EN_us",\n      "email": "admin1@domain.zone",\n      "is_main": true\n    },\n\t{\n      "name": "admin2",\n      "unix_user": "admin",\n      "locale_code": "Ru_ru",\n      "email": "admin2@domain.zone",\n      "is_main": false\n    },\n  ],\n  "metadata": {\n    "result": "ok"\n  }\n}\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Data description")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Key")]),e._v(" "),s("td",[e._v("Nullable")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("name")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("The name of the administrator in the control panel; unique, should not be the same as resellers’ names")])]),e._v(" "),s("tr",[s("td",[e._v("unix_user")]),e._v(" "),s("td",[e._v("True")]),e._v(" "),s("td",[e._v("The name of the UNIX account in the system; it corresponds to the administrator account in the control panel. If an administrator already has UNIX account, it is automatically added to the special group on the server using hook, so this administrator can enter to the LVE Manager and manage users limits. If an administrator doesn't have UNIX account and he can only own users, output null.")])]),e._v(" "),s("tr",[s("td",[e._v("locale_code")]),e._v(" "),s("td",[e._v("True")]),e._v(" "),s("td",[e._v("Control panel locale selected by the administrator (values are according to  ISO 639-1). Default is EN_us.")])]),e._v(" "),s("tr",[s("td",[e._v("email")]),e._v(" "),s("td",[e._v("True")]),e._v(" "),s("td",[e._v("Email to send notifications from lve-stats. If email is not set in the control panel, output null.")])]),e._v(" "),s("tr",[s("td",[e._v("is_main")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("Assumed that one of the control panel’s administrators is the main administrator. That particular administrator will receive server status notifications from lve-stats to his email.")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"control-panel-hooks-integration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#control-panel-hooks-integration","aria-hidden":"true"}},[this._v("#")]),this._v(" Control panel hooks integration")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"managing-administrators"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#managing-administrators","aria-hidden":"true"}},[this._v("#")]),this._v(" Managing administrators")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("em",[this._v("Some control panels allow to create several administrator accounts, each of which has a system user who is used to work with the LVE Manager plugin. In this case, all administrator accounts should be added to the sudoers and clsupergid. To do so, you can use our user-friendly interface.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),t("p",[this._v("If you don’t have several administrator accounts (or LVE Manager plugin always runs from the root) you don’t need to implement these hooks.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("/usr/share/cloudlinux/hooks/post_modify_admin.py create --username admin\n")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Argument")]),e._v(" "),s("td",[e._v("Default")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("--name, -n")]),e._v(" "),s("td",[e._v("-")]),e._v(" "),s("td",[e._v("The name of the newly created administrator account")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("/usr/share/cloudlinux/hooks/pre_modify_admin.py delete --name admin\n")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Argument")]),e._v(" "),s("td",[e._v("Default")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("--name, -n")]),e._v(" "),s("td",[e._v("-")]),e._v(" "),s("td",[e._v("The name of administrator account to be removed")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"managing-users"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#managing-users","aria-hidden":"true"}},[this._v("#")]),this._v(" Managing users")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("/usr/share/cloudlinux/hooks/post_modify_user.py create --username user --owner owner\n")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Argument")]),e._v(" "),s("td",[e._v("Mandatory")]),e._v(" "),s("td",[e._v("Default")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("--username, -u")]),e._v(" "),s("td",[e._v("Yes")]),e._v(" "),s("td",[e._v("-")]),e._v(" "),s("td",[e._v("The name of administrator account to be removed")])]),e._v(" "),s("tr",[s("td",[e._v("--owner, -o")]),e._v(" "),s("td",[e._v("Yes")]),e._v(" "),s("td",[e._v("-")]),e._v(" "),s("td",[e._v("A name of the account owner. The owner can be an administrator or a reseller")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("/usr/share/cloudlinux/hooks/post_modify_user.py rename --old-username user --new-username newuser\n")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Argument")]),e._v(" "),s("td",[e._v("Mandatory")]),e._v(" "),s("td",[e._v("Default")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("--old-username")]),e._v(" "),s("td",[e._v("Yes")]),e._v(" "),s("td",[e._v("-")]),e._v(" "),s("td",[e._v("The user name to be changed")])]),e._v(" "),s("tr",[s("td",[e._v("--new-username")]),e._v(" "),s("td",[e._v("Yes")]),e._v(" "),s("td",[e._v("-")]),e._v(" "),s("td",[e._v("A new user name")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("/usr/share/cloudlinux/hooks/post_modify_user.py transit --new-owner new_owner\n")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Argument")]),e._v(" "),s("td",[e._v("Default")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("--new-owner")]),e._v(" "),s("td",[e._v("-")]),e._v(" "),s("td",[e._v("The name of the new account owner. The owner can be an administrator or a reseller.")])]),e._v(" "),s("tr",[s("td",[e._v("--username, -u")]),e._v(" "),s("td",[e._v("-")]),e._v(" "),s("td",[e._v("The account name (should be the same as the name in /etc/passwd).")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("/usr/share/cloudlinux/hooks/pre_modify_user.py delete --username user\n")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Argument")]),e._v(" "),s("td",[e._v("Default")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("--username, -u")]),e._v(" "),s("td",[e._v("-")]),e._v(" "),s("td",[e._v("The name of the account to be removed (should be the same as the name in /etc/passwd).")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("/usr/share/cloudlinux/hooks/post_modify_user.py delete --username user\n")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Argument")]),e._v(" "),s("td",[e._v("Default")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("--username, -u")]),e._v(" "),s("td",[e._v("-")]),e._v(" "),s("td",[e._v("The name of the removed account")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"managing-domains"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#managing-domains","aria-hidden":"true"}},[this._v("#")]),this._v(" Managing domains")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("/usr/share/cloudlinux/hooks/post_modify_domain.py rename -u user --old-domain old_domain --new-domain new_domain [--include-subdomains]\n")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th"),e._v(" "),s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Argument")]),e._v(" "),s("td",[e._v("Mandatory")]),e._v(" "),s("td",[e._v("Default")]),e._v(" "),s("td",[e._v("Description")])]),e._v(" "),s("tr",[s("td",[e._v("--username, -u")]),e._v(" "),s("td",[e._v("Yes")]),e._v(" "),s("td",[e._v("-")]),e._v(" "),s("td",[e._v("The name of the new domain owner (should be the same as the name in /etc/passwd).")])]),e._v(" "),s("tr",[s("td",[e._v("--old-domain")]),e._v(" "),s("td",[e._v("Yes")]),e._v(" "),s("td",[e._v("-")]),e._v(" "),s("td",[e._v("The domain name to be changed")])]),e._v(" "),s("tr",[s("td",[e._v("--new-domain")]),e._v(" "),s("td",[e._v("Yes")]),e._v(" "),s("td",[e._v("-")]),e._v(" "),s("td",[e._v("A new domain name")])]),e._v(" "),s("tr",[s("td",[e._v("--include-subdomains")]),e._v(" "),s("td",[e._v("No")]),e._v(" "),s("td",[e._v("False")]),e._v(" "),s("td",[e._v("If set, all subdomains are renamed as well, i.e. when renaming domain.com → domain.eu the corresponding subdomain will be renamed as well test.domain.com → test.domain.eu.")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"web-ui-integration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#web-ui-integration","aria-hidden":"true"}},[this._v("#")]),this._v(" Web UI integration")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"ui-user-info-script"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ui-user-info-script","aria-hidden":"true"}},[this._v("#")]),this._v(" ui-user-info script")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("Input value (first positional argument) — the current authentication token, passed on plugin open (for example, "),t("span",{staticClass:"notranslate"},[t("code",[this._v("open.php?token=hash")])]),this._v(")")]),this._v(" "),t("li",[this._v("Expected data format")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('{\n    "userName": "user1",\n    "userId": 1000,\n    "userType": "user",\n    "lang": "en",\n    "userDomain": "current-user-domain.com"\n}\n')])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",[s("li",[s("strong",[e._v("userName")]),e._v(" is used in queries to Selectors.")]),e._v(" "),s("li",[s("strong",[e._v("userId")]),e._v(" - system user ID if exist. May be used in future functions.")]),e._v(" "),s("li",[s("strong",[e._v("userType")]),e._v(" - can have the following values: “user”, “reseller”, “admin”")]),e._v(" "),s("li",[s("strong",[e._v("lang")]),e._v(" - used to identify a current locale in the user interface (‘en’, ‘ru’ - two-character language code)")]),e._v(" "),s("li",[s("strong",[e._v("userDomain")]),e._v(" - a current user domain. It can be the default domain or any selected user domain. Used to display in Selector. For example, in DirectAdmin the control panel opens only if a domain is selected — the selected domain is set. In cPanel, a domain is not selected — the default domain is set. If a domain is absent —  leave empty.")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",[s("li",[s("p",[s("strong",[e._v("base_path")]),e._v(" - the path to copy file assets to make them available from the control panel. Optional if "),s("code",[e._v("/usr/share/l.v.e-manager/commons")]),e._v(" and "),s("code",[e._v("/usr/share/l.v.e-manager/panelless-version/lvemanager")]),e._v(" are available from the control panel and the paths to this directory in web server are set.\nFiles are copied or replaced by "),s("span",{staticClass:"notranslate"},[s("code",[e._v("yum update lvemanager")])]),e._v(" command.")])]),e._v(" "),s("li",[s("p",[s("strong",[e._v("base_uri")]),e._v(" - the URI of LVE Manager files")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"php-based-integration-of-web-ui-with-the-control-panel"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#php-based-integration-of-web-ui-with-the-control-panel","aria-hidden":"true"}},[this._v("#")]),this._v(" PHP-based integration of WEB UI with the control panel")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("require_once('lvemanager/widget.php');\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("<?php\nrequire_once('lvemanager/LveManager.php');\n$manager = new LveManager(‘<pluginName>’);\n$manager->setCSRFToken();\n?>\n<html><body>\n<?php\necho $manager->insertPanel();\n?>\n</body></html>\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"ui-with-cagefs-enabled"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ui-with-cagefs-enabled","aria-hidden":"true"}},[this._v("#")]),this._v(" UI with CageFS enabled")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"how-to-integrate-cagefs-with-a-control-panel"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-integrate-cagefs-with-a-control-panel","aria-hidden":"true"}},[this._v("#")]),this._v(" How to integrate CageFS with a control panel")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"cagefs-min-uid"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cagefs-min-uid","aria-hidden":"true"}},[this._v("#")]),this._v(" CageFS MIN_UID")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("CageFS has MIN_UID setting. Users with UIDs < MIN_UID will not be limited by CageFS. This setting is configured based on UID_MIN setting from "),t("code",[this._v("/etc/login.defs")]),this._v(" file by default. So, typically MIN_UID is 500 on CloudLinux 6 and 1000 on CloudLinux 7. You can obtain current MIN_UID value by executing")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("cagefsctl --get-min-uid`\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("cagefsctl --set-min-uid <value>\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("cagefsctl --set-min-uid 10000\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"pam-configuration-for-cagefs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pam-configuration-for-cagefs","aria-hidden":"true"}},[this._v("#")]),this._v(" PAM configuration for CageFS")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),t("p",[this._v("It is safe to enable an interactive shell (e.g. /bin/bash) for users when CageFS is enabled.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"integrating-cagefs-with-apache"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#integrating-cagefs-with-apache","aria-hidden":"true"}},[this._v("#")]),this._v(" Integrating CageFS with Apache")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"running-commands-inside-cagefs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#running-commands-inside-cagefs","aria-hidden":"true"}},[this._v("#")]),this._v(" Running commands inside CageFS")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('/bin/su -s /bin/bash -c “$COMMAND” - $USER\n/sbin/cagefs_enter_user $USER "$COMMAND"\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('/bin/cagefs_enter "$COMMAND"\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"updating-cagefs-skeleton"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#updating-cagefs-skeleton","aria-hidden":"true"}},[this._v("#")]),this._v(" Updating CageFS skeleton")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("cagefsctl --force-update\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("/etc/cron.d/cp-cagefs-cron\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("cagefsctl --set-update-period <days>\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"setting-up-directories-for-php-sessions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-directories-for-php-sessions","aria-hidden":"true"}},[this._v("#")]),this._v(" Setting up directories for PHP sessions")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("@/opt/alt/php54/var/lib/php/session,700\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("cagefsctl --remount-all\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"creating-new-user-account"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#creating-new-user-account","aria-hidden":"true"}},[this._v("#")]),this._v(" Creating new user account")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),t("p",[this._v("It is safe to enable an interactive shell (/bin/bash) for users when CageFS is enabled.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"warning custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("IMPORTANT")]),this._v(" "),t("p",[this._v("Execute the post hook described in the link above after the account has been created completely. When the account is being transferred to another server or restored from backup, all files in user’s home directory should be written/restored completely BEFORE executing the post hooks, including files in "),t("code",[this._v("~/.cl.selector")]),this._v(" directory. This is required to setup/restore PHP Selector settings for the user correctly. If PHP Selector settings were not restored correctly, you can recreate them by executing")]),this._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('rm -rf /var/cagefs/`/usr/sbin/cagefsctl --getprefix $username`/$username/etc/cl.selector\nrm -rf /var/cagefs/`/usr/sbin/cagefsctl --getprefix $username`/$username/etc/cl.php.d\n/usr/sbin/cagefsctl --force-update-etc "$username"\n')])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"warning custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("IMPORTANT")]),this._v(" "),t("p",[this._v("You should create "),t("code",[this._v("/etc/cagefs/enable.duplicate.uids")]),this._v(" empty file when your control panel creates users with duplicate UIDs. This is required for CageFS to operate properly.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"modifying-user-accounts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#modifying-user-accounts","aria-hidden":"true"}},[this._v("#")]),this._v(" Modifying user accounts")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"removing-user-accounts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#removing-user-accounts","aria-hidden":"true"}},[this._v("#")]),this._v(" Removing user accounts")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("CageFS has userdel hook script "),t("code",[this._v("/usr/bin/userdel.cagefs")]),this._v(", that is configured in "),t("code",[this._v("/etc/login.defs")]),this._v(" file:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("USERDEL_CMD /usr/bin/userdel.cagefs\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"excluding-users-from-cagefs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#excluding-users-from-cagefs","aria-hidden":"true"}},[this._v("#")]),this._v(" Excluding users from CageFS")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("If you need to exclude some system users from CageFS that are specific to your control panel, you can do this by creating a file (any name would work) inside "),t("code",[this._v("/etc/cagefs/exclude")]),this._v(" folder, and list users that you would like to exclude from CageFS in that file (each user in separate line). Then execute")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("cagefsctl --user-status USER\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"how-to-add-a-file-or-directory-to-cagefs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-add-a-file-or-directory-to-cagefs","aria-hidden":"true"}},[this._v("#")]),this._v(" How to add a file or directory to CageFS")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("cagefsctl --force-update\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("cagefsctl --remount-all\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("to apply changes of mounts in "),t("code",[this._v("/etc/cagefs/cagefs.mp")]),this._v(" file.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"users-home-directory"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#users-home-directory","aria-hidden":"true"}},[this._v("#")]),this._v(" Users' home directory")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"excluding-files-from-cagefs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#excluding-files-from-cagefs","aria-hidden":"true"}},[this._v("#")]),this._v(" Excluding files from CageFS")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"executing-suid-commands-inside-cagefs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#executing-suid-commands-inside-cagefs","aria-hidden":"true"}},[this._v("#")]),this._v(" Executing suid commands inside CageFS")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"filtering-options-for-commands-executed-by-proxyexec"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#filtering-options-for-commands-executed-by-proxyexec","aria-hidden":"true"}},[this._v("#")]),this._v(" Filtering options for commands executed by proxyexec")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"integrating-cloudlinux-php-selector"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#integrating-cloudlinux-php-selector","aria-hidden":"true"}},[this._v("#")]),this._v(" Integrating CloudLinux PHP Selector")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),t("p",[this._v("CloudLinux PHP Selector requires CageFS, so integration of CageFS must be completed before starting PHP Selector integration.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("For proper operation of CloudLinux PHP Selector, you should specify location of native PHP binaries of your control panel in "),t("code",[this._v("/etc/cl.selector/native.conf")]),this._v(". Then execute")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("cagefsctl --setup-cl-selector\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"integration-of-apache-modules-in-control-panels"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#integration-of-apache-modules-in-control-panels","aria-hidden":"true"}},[this._v("#")]),this._v(" Integration of Apache modules in control panels")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th"),e._v(" "),s("th")])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("httpd")]),e._v(" "),s("td",[e._v("httpd24-httpd")])]),e._v(" "),s("tr",[s("td",[e._v("then install:"),s("br"),e._v("- mod_lsapi"),s("br"),e._v("- mod_hostinglimits"),s("br"),e._v("- alt-mod-passenger")]),e._v(" "),s("td",[e._v("then install:"),s("br"),e._v("- httpd24-mod_lsapi"),s("br"),e._v("- httpd24-mod_hostinglimits"),s("br"),e._v("- httpd24-alt-mod-passenger")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"alt-mod-passenger"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#alt-mod-passenger","aria-hidden":"true"}},[this._v("#")]),this._v(" alt-mod-passenger")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[this._v("Download alt-mod-passenger sources")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("yumdownloader --source alt-mod-passenger --enablerepo=*source\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{attrs:{start:"2"}},[t("li",[this._v("Rebuild the package with your Apache using rpmbuild")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("rpmbuild --rebuild alt-mod-passenger-ver.cloudlinux.src.rpm\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{attrs:{start:"3"}},[t("li",[t("p",[this._v("Remove dependencies from httpd, apr, apr-util packages ( -devel packages as well) and set your Apache packages instead, in the alt-mod-passenger spec file. Also, set the path for the directory where your Apache configs are located with __apache_conf_dir in the spec file.")])]),this._v(" "),t("li",[t("p",[this._v("Rebuild the package again, this time you should get to the compilation stage. During compilation, you may encounter such errors:")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("* Checking for Apache 2 development headers...\n     Found: no\n* Checking for Apache Portable Runtime (APR) development headers...\n     Found: no\n* Checking for Apache Portable Runtime Utility (APU) development headers...\n     Found: no\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("In this case, you should specify the paths of your custom Apache in  "),t("code",[this._v("alt-mod-passenger-5.3.7/utils/passenger")]),this._v(" file. You need to add paths to binaries such as httpd, apu-1-config, and apxs. For example the following lines should be added before the passenger-install-apache2-module call:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('export APU_CONFIG="${PATH_IN_YOUR_SYSTEM}/bin/apu-1-config"\nexport HTTPD="${PATH_IN_YOUR_SYSTEM}/sbin/httpd"\nexport APXS2="${PATH_IN_YOUR_SYSTEM}/bin/apxs"\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{attrs:{start:"5"}},[t("li",[t("p",[this._v("Rebuild the package again, if everything is set correctly, there shouldn't be any problems.")])]),this._v(" "),t("li",[t("p",[this._v("Install the module, check that it is successfully loaded into Apache.")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"mod-hostinglimits"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mod-hostinglimits","aria-hidden":"true"}},[this._v("#")]),this._v(" mod_hostinglimits")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[this._v("Download mod_hostinglimits sources")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("yumdownloader --source mod_hostinglimits --enablerepo=*source\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{attrs:{start:"2"}},[t("li",[this._v("Rebuild the package with your Apache using rpmbuild")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("rpmbuild --rebuild mod_hostinglimits-ver.el7.cloudlinux.1.src.rpm\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{attrs:{start:"3"}},[t("li",[t("p",[this._v("Remove dependencies such as httpd, ( -devel packages as well) and set your Apache packages instead, in the mod_hostinglimits spec file. Also, check the paths that lead to the “modules” or “conf.d” directories and change them if they are different on your system.")])]),this._v(" "),t("li",[t("p",[this._v("Rebuild the package again, this time you should get to the compilation stage. During compilation, you may encounter the following errors:")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("-- Not Found Apache Bin Directory: APACHE2_2_HTTPD_BIN-NOTFOUND, APACHE2_2_HTTPD_MODULES-NOTFOUND\n-- Can't find Apache2.2: APACHE2_2_HTTPD_INCLUDE_DIR-NOTFOUND\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("In this case, you should specify the paths of your custom Apache in  "),t("code",[this._v("mod_hostinglimits-1.0/cmake/FindApacheForBuild.cmake")]),this._v(" file. According to macros above, add the paths to the directory where httpd bin is located, to the dir where apache modules are located and to the dir where include files are located. It may look the following way:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("FIND_PATH (APACHE2_2_HTTPD_INCLUDE_DIR \n   NAMES \n      httpd.h\n   PATHS\n      ${APACHE2_2_INCLUDES_DIR}\n      /usr/local/include/httpd\n      /usr/include/httpd\n      /usr/include/apache\n      /usr/local/apache/include/       # added line\n)\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{attrs:{start:"5"}},[t("li",[t("p",[this._v("Rebuild the package again, if you set everything correctly, there shouldn't be any problems.")])]),this._v(" "),t("li",[t("p",[this._v("Install the module, check that it is successfully loaded into Apache.")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"mod-lsapi"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mod-lsapi","aria-hidden":"true"}},[this._v("#")]),this._v(" mod_lsapi")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[this._v("Install the packages needed to build mod_lsapi from the source")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("yum install -y rpm-build\nyum install -y liblsapi liblsapi-devel\nyum install -y autoconf cmake apr-devel apr-util-devel\nyum install -y python-lxml pytest python-mock\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("yum install -y criu-lve python-criu-lve criu-lve-devel crit-lve\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{attrs:{start:"2"}},[t("li",[this._v("Download mod_lsapi sources")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("yumdownloader --source mod_lsapi --enablerepo=*source\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{attrs:{start:"3"}},[t("li",[this._v("Rebuild the package with your Apache using rpmbuild")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("rpmbuild --rebuild mod_lsapi-ver.el7.cloudlinux.src.rpm\n")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ol",{attrs:{start:"4"}},[s("li",[s("p",[e._v("Remove building dependency from httpd-devel in the "),s("code",[e._v("mod_lsapi.spec")]),e._v(" spec file located in "),s("code",[e._v("~/rpmbuild/SPECS/")]),e._v(" directory.")])]),e._v(" "),s("li",[s("p",[e._v("Change the paths to copy "),s("code",[e._v("mod_lsapi.so")]),e._v(" and "),s("code",[e._v("mod_lsapi.conf")]),e._v(" in the %install section of the "),s("code",[e._v("mod_lsapi.spec")]),e._v(" file. For example, if Apache root is "),s("code",[e._v("/usr/local/apache")]),e._v(", then modules directory and config files directory will be "),s("code",[e._v("/usr/local/apache/modules")]),e._v(" and  "),s("code",[e._v("/usr/local/apache/conf.d")]),e._v(" respectively. So for the config file you should substitute the following line in the "),s("em",[e._v("%install")]),e._v(" section:")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("install -D -m 644 conf/mod_lsapi.conf $RPM_BUILD_ROOT%{g_path}/confs/lsapi.conf\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("install -D -m 644 conf/mod_lsapi.conf $RPM_BUILD_ROOT/usr/local/apache/conf/lsapi.conf\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("And, also, for the module you should substitute the following line in the "),t("em",[this._v("%install")]),this._v(" section:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("install -D -m 755 build/lib/mod_lsapi.so $RPM_BUILD_ROOT%{g_path}standard/mod_lsapi.so \n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("install -D -m 755 build/lib/mod_lsapi.so $RPM_BUILD_ROOT/usr/local/apache/modules/mod_lsapi.so\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Also you should add mentions of both module and config files in the "),t("em",[this._v("%files")]),this._v(" section of mod_lsapi.spec. For example, for "),t("code",[this._v("/usr/local/apache")]),this._v(" Apache root the following two lines  should be added:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("%config /usr/local/apache/conf.d/lsapi.conf\n/usr/local/apache/modules/mod_lsapi.conf\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{attrs:{start:"6"}},[t("li",[this._v("Rebuild the package again, this time you should get to the compilation stage. During compilation, you may encounter some errors:")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("-- Not Found Apache Bin Directory: APACHE2_2_HTTPD_BIN-NOTFOUND, APACHE2_2_HTTPD_MODULES-NOTFOUND\n-- Can't find Apache2.2: APACHE2_2_HTTPD_INCLUDE_DIR-NOTFOUND\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("In this case, you should specify the paths of your custom Apache in  "),t("code",[this._v("mod_lsapi-1.1/cmake/FindApacheForBuild.cmake")]),this._v(" file. According to macros above, add the paths to the directory where httpd binary is located, to the dir where apache modules are located and to the dir where include files are located. It may look a such way:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("FIND_PATH (APACHE2_2_HTTPD_INCLUDE_DIR \n   NAMES \n      httpd.h\n   PATHS\n      ${APACHE2_2_INCLUDES_DIR}\n      /usr/local/include/httpd\n      /usr/include/httpd\n      /usr/include/apache\n      /usr/local/apache/include/       # added line\n)\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{attrs:{start:"7"}},[t("li",[t("p",[this._v("Rebuild the package again, if you set everything correctly, there shouldn't be any problems.")])]),this._v(" "),t("li",[t("p",[this._v("Install the module, check that it is successfully loaded into Apache.")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"mysql-governor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql-governor","aria-hidden":"true"}},[this._v("#")]),this._v(" MySQL Governor")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[this._v("Install MySQL Governor")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("yum install governor-mysql\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{attrs:{start:"2"}},[t("li",[this._v("MySQL Governor supports only cl-MariaDB** or cl-MySQL** packages. Follow the documentation to figure out all supported versions.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("/usr/share/lve/dbgovernor/mysqlgovernor.py --mysql-version=mysqlXX\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{attrs:{start:"3"}},[t("li",[t("p",[this._v("Backup your databases.")])]),this._v(" "),t("li",[t("p",[this._v("Run the cl-MySQL/cl-MariaDB installation.")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("/usr/share/lve/dbgovernor/mysqlgovernor.py --install\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("p",[this._v("After installation, check that the database server is working properly. If you have any problems, contact support http://helpdesk.cloudlinux.com/")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("p",[this._v("After you've configured the mapping, use dbtop to see the current user load on the database (you'd need to make some database queries).")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("dbtop\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{attrs:{start:"10"}},[t("li",[this._v("If the load appears in the dbtop output, then you have successfully configured MySQL Governor.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"cloudlinux-lve-and-cagefs-patches"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cloudlinux-lve-and-cagefs-patches","aria-hidden":"true"}},[this._v("#")]),this._v(" CloudLinux LVE and CageFS patches")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),t("p",[this._v("If you are using Apache from the CloudLinux repository (such as httpd or httpd24-httpd), skip this chapter.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[t("p",[this._v("Untar archive which you were going to patch and go to the created directory with sources.")])]),this._v(" "),t("li",[t("p",[this._v("Transfer the patch to the directory with sources.")])]),this._v(" "),t("li",[t("p",[this._v("Use the patch utility inside the directory with sources")])]),this._v(" "),t("li",[t("p",[this._v("Recompile your project.")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("# ls \napr-1.4.8.tar.bz2  apr-2.4-httpd.2.patch\n# tar xvjf apr-1.4.8.tar.bz2\n# cp apr-2.4-httpd.2.patch ./apr-1.4.8\n# cd ./apr-1.4.8\n# patch -p3 < apr-2.4-httpd.2.patch \npatching file include/apr_thread_proc.h\nHunk #1 succeeded at 204 (offset -2 lines).\npatching file threadproc/unix/proc.c\n\nPatch applied Successfully, recompile apr. \n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("Source0: apr-1.4.8.tar.bz2\nPatch100: apr-2.4-httpd.2.patch\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Then  apply this patch in the "),t("em",[this._v("%setup")]),this._v(" section:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("%prep\n%setup -q\n%patch100 -p3 -b .lve\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"hardened-php"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hardened-php","aria-hidden":"true"}},[this._v("#")]),this._v(" Hardened PHP")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("yum groupinstall alt-php\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("yum groupinstall alt-php{some_version}\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"cloudlinux-kernel-set-up"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cloudlinux-kernel-set-up","aria-hidden":"true"}},[this._v("#")]),this._v(" CloudLinux kernel set-up")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"proc-filesystem-access-control"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#proc-filesystem-access-control","aria-hidden":"true"}},[this._v("#")]),this._v(" /proc filesystem access control")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("If the "),s("span",{staticClass:"notranslate"},[s("code",[e._v("fs.proc_can_see_other_uid")])]),e._v(" parameter is not defined in "),s("code",[e._v("sysctl")]),e._v(" config during the CageFS package installation, it is set to "),s("code",[e._v("0")]),e._v(": "),s("span",{staticClass:"notranslate"},[s("code",[e._v("fs.proc_can_see_other_uid=0")])]),e._v(".")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("You can also set this parameter in the "),t("span",{staticClass:"notranslate"},[t("code",[this._v("/etc/sysctl.conf")])]),this._v(" file and then run the "),t("span",{staticClass:"notranslate"},[t("code",[this._v("sysctl -p")])]),this._v(" command.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"notranslate"},[t("code",[this._v("fs.proc_can_see_other_uid")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"notranslate"},[t("code",[this._v("lve_namespaces")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"notranslate"},[t("code",[this._v("lve-utils")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"integrating-control-panel-with-cloudlinux"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#integrating-control-panel-with-cloudlinux","aria-hidden":"true"}},[this._v("#")]),this._v(" Integrating control panel with CloudLinux")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Run the following command to add administrators into "),t("span",{staticClass:"notranslate"},[t("code",[this._v("proc_super_gid")])]),this._v(" group (if the panel administrator is not a root user or there are several administrators):")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"notranslate"},[t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("/usr/share/cloudlinux/hooks/post_modify_admin.py create --username <admin_name>\n")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),t("p",[this._v("This administrator should exist as a system user.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("This command also adds a specified administrator to the "),t("span",{staticClass:"notranslate"},[t("code",[this._v("clsudoers")])]),this._v(" group, so the LVE Manager admin's plugin works properly.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"notranslate"},[t("code",[this._v("lve-utils")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"symlink-protection"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#symlink-protection","aria-hidden":"true"}},[this._v("#")]),this._v(" Symlink protection")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("You can run "),t("span",{staticClass:"notranslate"},[t("code",[this._v("cldiag")])]),this._v(" utility with the "),t("span",{staticClass:"notranslate"},[t("code",[this._v("--check-symlinkowngid")])]),this._v(" parameter to check web-server protection mechanism proper set-up.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"notranslate"},[t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("# cldiag --symlinksifowner\nCheck fs.enforce_symlinksifowner is correctly enabled in sysctl conf:\n\tOK: fs.enforce_symlinksifowner = 1\n\nThere are 0 errors found.\n# cldiag --check-symlinkowngid\nCheck fs.symlinkown_gid:\n\tOK: Web-server user is protected by Symlink Owner Match Protection\n\nThere are 0 errors found.\n")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("Symlink traversal protection is disabled by default.")]),this._v(" "),t("li",[this._v("Symlink owner match protection is enabled by default.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"how-to-enable-symlink-protection"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-enable-symlink-protection","aria-hidden":"true"}},[this._v("#")]),this._v(" How to enable symlink protection")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Set the "),t("span",{staticClass:"notranslate"},[t("code",[this._v("symlinkown_gid")])]),this._v(" parameter to the value of the GID group, which the web-server process has.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("To allow an unprivileged user to create such symlink or hard link, a file/directory which symlink is referred to should have "),t("span",{staticClass:"notranslate"},[t("code",[this._v("linksafe")])]),this._v(" group.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"file-system-quotas"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#file-system-quotas","aria-hidden":"true"}},[this._v("#")]),this._v(" File system quotas")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Some of CloudLinux OS utilities ("),t("code",[this._v("cagefsctl")]),this._v(", "),t("code",[this._v("selectorctl")]),this._v(", "),t("code",[this._v("cloudlinux-selector")]),this._v(", etc) writes files to the user’s home directory on behalf of this user.")])}],!1,null,null,null);t.default=n.exports}}]);